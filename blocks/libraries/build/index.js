(()=>{"use strict";var e,t={381:()=>{const e=window.React,t=window.wp.blocks,r=window.wp.i18n,l=window.wp.blockEditor,a=window.wp.components,n=JSON.parse('{"UU":"learndash/document-libraries","uK":{"AB":{"A":9},"Zp":{"Ay":"list"},"$P":{"A":true}}}');function i({value:t,onChange:r,onSearch:l,placeholder:a="Search"}){return(0,e.createElement)("div",{className:"relative w-full max-w-sm"},(0,e.createElement)("input",{type:"text",value:t,onChange:e=>r(e.target.value),placeholder:a,className:"w-full rounded-lg border border-gray-200 bg-gray-50 py-2 pl-3 pr-3 text-sm text-gray-700 placeholder:text-gray-400 focus:border-blue-500 focus:bg-white focus:outline-none focus:ring-1 focus:ring-blue-500"}),(0,e.createElement)("span",{className:"cursor-pointer absolute inset-y-0 right-3 flex items-center text-gray-400",onClick:()=>l?.(t)},(0,e.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2"},(0,e.createElement)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 21l-4.35-4.35M10.5 18a7.5 7.5 0 1 1 0-15 7.5 7.5 0 0 1 0 15z"}))))}function o({value:t=10,onChange:r,label:l="Show files"}){return(0,e.createElement)("div",{className:"inline-flex items-center gap-2 text-sm text-gray-600"},(0,e.createElement)("span",null,l),(0,e.createElement)("input",{type:"number",min:1,step:1,value:t,onChange:e=>{const t=e.target.value,l=Number(t);r?.(Number.isNaN(l)||l<=0?1:l)},className:"w-20 rounded-md border border-[#ffffff] focus:border-gray-200 bg-white px-3 py-1 text-sm  focus:outline-none focus:ring-none"}))}function s({mode:t,onChange:r}){const l="flex items-center gap-1 rounded-md p-[6px] text-xs md:text-sm transition cursor-pointer",a="bg-white text-black border border-[#dfdfdf]",n="text-gray-500 bg-[transparent] border border-[transparent]";return(0,e.createElement)("div",{className:"inline-flex"},(0,e.createElement)("button",{type:"button",onClick:()=>r("grid"),className:`${l} ${"grid"===t?a:n}`},(0,e.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2"},(0,e.createElement)("rect",{x:"3",y:"3",width:"7",height:"7",rx:"1"}),(0,e.createElement)("rect",{x:"14",y:"3",width:"7",height:"7",rx:"1"}),(0,e.createElement)("rect",{x:"3",y:"14",width:"7",height:"7",rx:"1"}),(0,e.createElement)("rect",{x:"14",y:"14",width:"7",height:"7",rx:"1"}))),(0,e.createElement)("button",{type:"button",onClick:()=>r("list"),className:`${l} ${"list"===t?a:n}`},(0,e.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2"},(0,e.createElement)("path",{d:"M9 6h12"}),(0,e.createElement)("path",{d:"M9 12h12"}),(0,e.createElement)("path",{d:"M9 18h12"}),(0,e.createElement)("circle",{cx:"4",cy:"6",r:"1.5"}),(0,e.createElement)("circle",{cx:"4",cy:"12",r:"1.5"}),(0,e.createElement)("circle",{cx:"4",cy:"18",r:"1.5"}))),(0,e.createElement)("button",{type:"button",onClick:()=>r("folder"),className:`${l} ${"folder"===t?a:n}`},(0,e.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2"},(0,e.createElement)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 7a2 2 0 0 1 2-2h4.2a2 2 0 0 1 1.4.58L12.8 7H19a2 2 0 0 1 2 2v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V7z"}))))}function c({rootLabel:t="Document Library Demo",currentLabel:r="All documents"}){return(0,e.createElement)("nav",{className:"flex items-center gap-2 text-sm text-gray-600","aria-label":"Breadcrumb"},(0,e.createElement)("span",{className:"inline-flex h-5 w-5 items-center justify-center rounded bg-blue-50 text-blue-600"},(0,e.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3.5 w-3.5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2"},(0,e.createElement)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 7a2 2 0 0 1 2-2h4.2a2 2 0 0 1 1.4.58L12.8 7H19a2 2 0 0 1 2 2v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V7z"}))),(0,e.createElement)("ol",{className:"flex items-center gap-1"},(0,e.createElement)("li",{className:"font-medium text-gray-800"},t),(0,e.createElement)("li",{className:"text-gray-400"},"/"),(0,e.createElement)("li",{className:"text-gray-500"},r)))}const d=JSON.parse('[{"id":1,"title":"Agreement-Purchase","type":"pdf","size":"108 KB","folderId":1,"lastModified":"2025-10-03"},{"id":2,"title":"General-Information","type":"docx","size":"109 KB","folderId":1,"lastModified":"2025-10-03"},{"id":3,"title":"Video-Tutorial","type":"mp4","size":"1 MB","folderId":2,"lastModified":"2025-10-03"},{"id":4,"title":"Impact Moderato","type":"mp3","size":"746 KB","folderId":2,"lastModified":"2025-10-03"},{"id":5,"title":"Outline","type":"pdf","size":"27 KB","folderId":3,"lastModified":"2025-10-03"},{"id":6,"title":"Financial","type":"xlsx","size":"81 KB","folderId":3,"lastModified":"2025-10-03"},{"id":7,"title":"Document-Library-Demo","type":"pdf","size":"27 KB","folderId":4,"lastModified":"2025-10-10"},{"id":8,"title":"FileBird Screenshot","type":"png","size":"68 KB","folderId":4,"lastModified":"2025-10-10"},{"id":9,"title":"FileBird Screenshot","type":"png","size":"68 KB","folderId":4,"lastModified":"2025-10-10"},{"id":10,"title":"FileBird Screenshot","type":"png","size":"68 KB","folderId":4,"lastModified":"2025-10-10"},{"id":11,"title":"FileBird Screenshot","type":"png","size":"68 KB","folderId":4,"lastModified":"2025-10-10"},{"id":12,"title":"FileBird Screenshot","type":"png","size":"68 KB","folderId":4,"lastModified":"2025-10-10"}]'),m=[{id:1,name:"Folder 1"},{id:2,name:"Folder 2"},{id:3,name:"Folder 3"},{id:4,name:"Folder 4"},{id:5,name:"Folder 5"},{id:6,name:"Folder 6"},{id:7,name:"Folder 7"},{id:8,name:"Folder 8"},{id:9,name:"Folder 9"},{id:10,name:"Folder 10"}],u={pdf:{label:"PDF",bg:"bg-red-100",color:"text-red-500"},docx:{label:"W",bg:"bg-blue-100",color:"text-blue-500"},mp4:{label:"MP4",bg:"bg-rose-100",color:"text-rose-500"},mp3:{label:"MP3",bg:"bg-purple-100",color:"text-purple-500"},xlsx:{label:"XLSX",bg:"bg-green-100",color:"text-green-500"},png:{label:"PNG",bg:"bg-gray-100",color:"text-gray-500"}};function p(e){return u[e]||{label:e?.toUpperCase()||"?",bg:"bg-gray-100",color:"text-gray-500"}}function f(e){if(!e)return 0;const[t,r]=e.split(" "),l=parseFloat(t),a=(r||"").toUpperCase();let n=1;return a.startsWith("KB")?n=1024:a.startsWith("MB")?n=1048576:a.startsWith("GB")&&(n=1073741824),l*n}const g=function({documents:t,folders:r,initialView:l="list",initialPerPage:a=10,enableSearch:n=!0,initialSearchTerm:u="",className:p="",showDebugState:g=!1}){const h=function(e){return Array.isArray(e)&&e.length?e:d}(t),E=function(e){return Array.isArray(e)&&e.length?e:m}(r),[w,v]=(0,e.useState)(u),[N,C]=(0,e.useState)(u.trim()),[B,_]=(0,e.useState)(a),[k,L]=(0,e.useState)(l),[S,F]=(0,e.useState)(null),[M,D]=(0,e.useState)("lastModified"),[I,z]=(0,e.useState)("desc"),A=E.map(e=>({...e,count:h.filter(t=>t.folderId===e.id).length})),K=Object.fromEntries(E.map(e=>[e.id,e.name])),j=n?N:"",O=[...h.filter(e=>(!S||e.folderId===S)&&(!j||e.title.toLowerCase().includes(j.toLowerCase())))].sort((e,t)=>function(e,t,r,l){const a="asc"===l?1:-1;if("file"===r){const r=e.title.toLowerCase(),l=t.title.toLowerCase();return r<l?-1*a:r>l?1*a:0}if("size"===r)return(f(e.size)-f(t.size))*a;if("type"===r){const r=(e.type||"").toLowerCase(),l=(t.type||"").toLowerCase();return r<l?-1*a:r>l?1*a:0}return(new Date(e.lastModified).getTime()-new Date(t.lastModified).getTime())*a}(e,t,M,I)),P=B?O.slice(0,B):O,$=S&&K[S]||"All documents",T=["ldl-app bg-gray-100 py-10",p].filter(Boolean).join(" ");return(0,e.createElement)("div",{className:T},(0,e.createElement)("div",{className:"mx-auto max-w-6xl space-y-6 px-4"},(0,e.createElement)("header",{className:"space-y-2"},(0,e.createElement)("h1",{className:"text-2xl font-semibold text-gray-900 mb-[30px]"},"FileBird Document Library Demo"),(0,e.createElement)(c,{rootLabel:"Document Library Demo",currentLabel:$})),(0,e.createElement)("div",{className:"flex flex-col gap-3 md:flex-row md:items-center "+(n?"md:justify-between":"md:justify-end")},n&&(0,e.createElement)(i,{value:w,onChange:v,onSearch:e=>{C(e.trim())}}),(0,e.createElement)("div",{className:"flex items-center gap-4"},(0,e.createElement)(o,{value:B,onChange:_}),(0,e.createElement)(s,{mode:k,onChange:L}))),(0,e.createElement)(b,{folders:A,selectedFolderId:S,onSelect:F}),g&&(0,e.createElement)("section",{className:"rounded-lg border border-dashed border-gray-300 bg-white p-4 text-sm text-gray-700"},(0,e.createElement)("p",{className:"mb-2 font-medium text-gray-800"},"Current filter state (applied):"),(0,e.createElement)("pre",{className:"overflow-x-auto rounded bg-gray-50 p-3 text-xs"},JSON.stringify({search:j,selectedFolderId:S,perPage:B,view:k,sortField:M,sortDirection:I,visibleDocuments:P.length},null,2))),"grid"===k?(0,e.createElement)(y,{documents:P,folderNameById:K}):(0,e.createElement)(x,{documents:P,folderNameById:K,sortField:M,sortDirection:I,onSortChange:e=>{z(t=>e===M&&"asc"===t?"desc":"asc"),D(e)}})))};function b({folders:t,selectedFolderId:r,onSelect:l}){return(0,e.createElement)("div",{className:"flex flex-wrap gap-[14px]"},t.map(t=>{const a=t.id===r;return(0,e.createElement)("button",{key:t.id,type:"button",onClick:()=>l(a?null:t.id),className:"flex flex-1 flex-grow flex-[190px] min-w-[120px] items-center justify-between rounded-lg px-3 py-2 text-xs cursor-pointer md:text-sm "+(a?"bg-[#eceef0] text-gray-700 border border-blue-500":"bg-[#eceef0] hover:bg-[#eeeeee] text-gray-700 border border-[#dfdfdf]")},(0,e.createElement)("span",{className:"inline-flex items-center gap-2"},(0,e.createElement)("span",{className:"inline-flex h-5 w-5 items-center justify-center rounded text-black"},(0,e.createElement)("svg",{viewBox:"0 0 24 24",fill:"currentColor"},(0,e.createElement)("path",{d:"M10,4H4C2.89,4 2,4.89 2,6V18A2,2 0 0,0 4,20H20A2,2 0 0,0 22,18V8C22,6.89 21.1,6 20,6H12L10,4Z"}))),(0,e.createElement)("span",{className:"font-normal"},t.name)),(0,e.createElement)("span",{className:"ml-3 inline-flex h-6 min-w-[2rem] items-center justify-center rounded-full px-2 text-xs bg-gray-100 text-gray-600"},t.count))}))}function x({documents:t,folderNameById:r,sortField:l,sortDirection:a,onSortChange:n}){const i="grid-cols-[minmax(0,3fr)_minmax(0,1fr)_minmax(0,1fr)_minmax(0,1.5fr)_minmax(0,1fr)]",o=({label:t,fieldKey:r,alignRight:i=!1})=>{const o=l===r,s="h-3 w-3 transition-transform "+("desc"===a?"rotate-180":"");return(0,e.createElement)("button",{type:"button",onClick:()=>n(r),className:`group inline-flex items-center gap-1 text-xs font-medium ${o?"text-gray-800":"text-gray-500"} ${i?"justify-end w-full":""}`},(0,e.createElement)("span",null,t),(0,e.createElement)("span",{className:"flex items-center "+(o?"opacity-100 text-gray-600":"opacity-40 group-hover:opacity-80")},(0,e.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:s},(0,e.createElement)("path",{d:"M5.23 12.79a.75.75 0 001.06 0L10 9.06l3.71 3.73a.75.75 0 001.06-1.06l-4.24-4.25a.75.75 0 00-1.06 0L5.23 11.73a.75.75 0 000 1.06z"}))))};return(0,e.createElement)("section",{className:"space-y-3"},(0,e.createElement)("h2",{className:"text-sm font-semibold text-gray-700"},"Documents (",t.length,")"),(0,e.createElement)("div",{className:""},(0,e.createElement)("div",{className:`grid ${i} mb-[6px] items-center rounded-xl bg-gray-50 px-4 py-2 border border-[#dfdfdf]`},(0,e.createElement)("div",null,(0,e.createElement)(o,{label:"File",fieldKey:"file"})),(0,e.createElement)("div",null,(0,e.createElement)(o,{label:"Size",fieldKey:"size"})),(0,e.createElement)("div",null,(0,e.createElement)(o,{label:"Type",fieldKey:"type"})),(0,e.createElement)("div",null,(0,e.createElement)(o,{label:"Last Modified",fieldKey:"lastModified"})),(0,e.createElement)("div",{className:"text-right text-xs font-medium text-gray-500"},"Download")),(0,e.createElement)("div",{className:"space-y-2 pt-1"},t.map(t=>{const l=p(t.type);return(0,e.createElement)("div",{key:t.id,className:`grid ${i} items-center rounded-xl bg-white px-4 py-3 border border-[#dfdfdf] hover:border-blue-500`},(0,e.createElement)("div",{className:"flex items-center gap-3"},(0,e.createElement)("div",{className:`flex h-9 w-9 items-center justify-center rounded-lg ${l.bg} ${l.color} text-xs font-semibold`},l.label),(0,e.createElement)("div",{className:"flex flex-col"},(0,e.createElement)("span",{className:"cursor-pointer font-normal text-xs text-blue-600 hover:underline"},t.title),(0,e.createElement)("span",{className:"text-xs text-gray-500"},r[t.folderId]||"Root"))),(0,e.createElement)("div",{className:"text-xs text-gray-700"},t.size),(0,e.createElement)("div",{className:"text-xs uppercase text-gray-700"},t.type),(0,e.createElement)("div",{className:"text-xs text-gray-700"},function(e){const t=new Date(e);return Number.isNaN(t.getTime())?e:t.toLocaleDateString("en-US",{month:"short",day:"2-digit",year:"numeric"})}(t.lastModified)),(0,e.createElement)("div",{className:"flex justify-end"},(0,e.createElement)("button",{className:"inline-flex items-center justify-center rounded-full bg-blue-500 px-4 py-1.5 text-xs font-medium text-white hover:bg-blue-600 cursor-pointer transition"},"Download")))}))))}function y({documents:t,folderNameById:r}){return(0,e.createElement)("section",{className:"space-y-3"},(0,e.createElement)("h2",{className:"text-sm font-semibold text-gray-700"},"Documents (",t.length,")"),(0,e.createElement)("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-4"},t.map(t=>{const l=p(t.type);return(0,e.createElement)("div",{key:t.id,className:"flex flex-col items-center rounded-2xl bg-white p-4 py-5 border border-[#dfdfdf] hover:border-blue-500"},(0,e.createElement)("div",{className:`mb-[40px] mt-[40px] flex h-14 w-14 items-center justify-center rounded-2xl ${l.bg} ${l.color} text-xs font-semibold`},l.label),(0,e.createElement)("div",{className:"flex-1 space-y-1 text-sm"},(0,e.createElement)("p",{className:"font-medium text-gray-800 text-center"},t.title),(0,e.createElement)("p",{className:"text-xs text-gray-500 text-center"},t.size," â€¢ ",r[t.folderId]||"Root")),(0,e.createElement)("button",{className:"mt-4 inline-flex items-center justify-center rounded-full bg-blue-500 px-4 py-1.5 text-xs font-medium text-white hover:bg-blue-600 text-center cursor-pointer transition"},"Download"))})))}const h=[{label:(0,r.__)("List","learndash-document-library"),value:"list"},{label:(0,r.__)("Grid","learndash-document-library"),value:"grid"},{label:(0,r.__)("Folder","learndash-document-library"),value:"folder"}],E={isCategoriesFilterEnabled:!0,defaultLayout:"list",libraries:[],categories:[]},w=(e,t)=>e.filter(e=>t.includes(e.value)).map(e=>e.label),v=({label:t,help:r,options:l,value:n,onChange:i})=>(0,e.createElement)(a.BaseControl,{label:t,help:r},(0,e.createElement)(a.FormTokenField,{value:w(l,n),suggestions:l.map(e=>e.label),onChange:e=>i(((e,t)=>{const r=t.map(t=>e.find(e=>e.label===t)).filter(Boolean).map(e=>e.value);return Array.from(new Set(r))})(l,e))})),N=({label:t,help:r,value:l,onChange:n})=>(0,e.createElement)(a.BaseControl,{label:t,help:r},(0,e.createElement)(a.FormTokenField,{value:l.map(e=>String(e)),suggestions:[],onChange:e=>n(e.map(e=>parseInt(e,10)).filter(e=>!Number.isNaN(e)))}));(0,t.registerBlockType)(n.UU,{edit:({attributes:t,setAttributes:i})=>{const{exclude:o=[],limit:s=n.uK.AB.A,libraries:c=[],categories:m=[],layout:u=n.uK.Zp.Ay,search:p=n.uK.$P.A}=t,f="undefined"!=typeof window&&window.ldlBlockData?window.ldlBlockData:E,b=Array.isArray(f.libraries)?f.libraries:[],x=Array.isArray(f.categories)?f.categories:[],y=!f.isCategoriesFilterEnabled,w=(0,l.useBlockProps)({className:"ldl-block-preview"});return(0,e.createElement)("div",{...w},(0,e.createElement)(l.InspectorControls,null,(0,e.createElement)(a.PanelBody,{title:(0,r.__)("Display","learndash-document-library"),initialOpen:!0},(0,e.createElement)(a.SelectControl,{label:(0,r.__)("Layout","learndash-document-library"),value:u,options:h,onChange:e=>i({layout:e})}),(0,e.createElement)(a.RangeControl,{label:(0,r.__)("Items per page","learndash-document-library"),min:1,max:50,value:s,onChange:e=>i({limit:e}),help:(0,r.__)("Controls how many documents are shown before pagination.","learndash-document-library")}),(0,e.createElement)(a.ToggleControl,{label:(0,r.__)("Enable search","learndash-document-library"),checked:p,onChange:e=>i({search:e})})),(0,e.createElement)(a.PanelBody,{title:(0,r.__)("Libraries","learndash-document-library"),initialOpen:!1},(0,e.createElement)(v,{label:(0,r.__)("Limit to libraries","learndash-document-library"),help:(0,r.__)("Leave empty to include all libraries.","learndash-document-library"),options:b,value:c,onChange:e=>i({libraries:e})})),(0,e.createElement)(a.PanelBody,{title:(0,r.__)("Categories","learndash-document-library"),initialOpen:!1},y?(0,e.createElement)(a.Notice,{status:"info",isDismissible:!1},(0,r.__)("Category filtering is disabled in the plugin settings.","learndash-document-library")):(0,e.createElement)(v,{label:(0,r.__)("Limit to categories","learndash-document-library"),help:(0,r.__)("Leave empty to include all categories.","learndash-document-library"),options:x,value:m,onChange:e=>i({categories:e})})),(0,e.createElement)(a.PanelBody,{title:(0,r.__)("Exclude IDs","learndash-document-library"),initialOpen:!1},(0,e.createElement)(N,{label:(0,r.__)("Document IDs to exclude","learndash-document-library"),help:(0,r.__)("Provide document IDs separated by commas.","learndash-document-library"),value:o,onChange:e=>i({exclude:e})}))),(0,e.createElement)(g,{key:`preview-${u}-${s}-${p}`,documents:d,initialView:u,initialPerPage:s,enableSearch:p}))},save:()=>null})}},r={};function l(e){var a=r[e];if(void 0!==a)return a.exports;var n=r[e]={exports:{}};return t[e](n,n.exports,l),n.exports}l.m=t,e=[],l.O=(t,r,a,n)=>{if(!r){var i=1/0;for(d=0;d<e.length;d++){for(var[r,a,n]=e[d],o=!0,s=0;s<r.length;s++)(!1&n||i>=n)&&Object.keys(l.O).every(e=>l.O[e](r[s]))?r.splice(s--,1):(o=!1,n<i&&(i=n));if(o){e.splice(d--,1);var c=a();void 0!==c&&(t=c)}}return t}n=n||0;for(var d=e.length;d>0&&e[d-1][2]>n;d--)e[d]=e[d-1];e[d]=[r,a,n]},l.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={57:0,350:0};l.O.j=t=>0===e[t];var t=(t,r)=>{var a,n,[i,o,s]=r,c=0;if(i.some(t=>0!==e[t])){for(a in o)l.o(o,a)&&(l.m[a]=o[a]);if(s)var d=s(l)}for(t&&t(r);c<i.length;c++)n=i[c],l.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return l.O(d)},r=globalThis.webpackChunklearndash_document_library_blocks=globalThis.webpackChunklearndash_document_library_blocks||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var a=l.O(void 0,[350],()=>l(381));a=l.O(a)})();
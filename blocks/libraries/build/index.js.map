{"version":3,"file":"index.js","mappings":"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","sources":["webpack://learndash-document-library-blocks/./src/LibrariesReactViews.js","webpack://learndash-document-library-blocks/./src/edit.js","webpack://learndash-document-library-blocks/external window [\"wp\",\"apiFetch\"]","webpack://learndash-document-library-blocks/external window [\"wp\",\"blockEditor\"]","webpack://learndash-document-library-blocks/external window [\"wp\",\"blocks\"]","webpack://learndash-document-library-blocks/external window [\"wp\",\"components\"]","webpack://learndash-document-library-blocks/external window [\"wp\",\"element\"]","webpack://learndash-document-library-blocks/external window [\"wp\",\"i18n\"]","webpack://learndash-document-library-blocks/external window \"React\"","webpack://learndash-document-library-blocks/webpack/bootstrap","webpack://learndash-document-library-blocks/webpack/runtime/compat get default export","webpack://learndash-document-library-blocks/webpack/runtime/define property getters","webpack://learndash-document-library-blocks/webpack/runtime/hasOwnProperty shorthand","webpack://learndash-document-library-blocks/webpack/runtime/make namespace object","webpack://learndash-document-library-blocks/./src/index.js"],"sourcesContent":["import { render, useEffect, useMemo, useState } from '@wordpress/element';\r\n\r\nconst VIEW_GRID = 'grid';\r\nconst VIEW_LIST = 'list';\r\n\r\nfunction DocumentLibraryApp({ restUrl }) {\r\n\tconst [items, setItems] = useState([]);\r\n\tconst [folders, setFolders] = useState([]);\r\n\tconst [loading, setLoading] = useState(true);\r\n\tconst [error, setError] = useState(null);\r\n\r\n\tconst [search, setSearch] = useState('');\r\n\tconst [activeFolder, setActiveFolder] = useState('all');\r\n\tconst [view, setView] = useState(VIEW_GRID);\r\n\tconst [perPage, setPerPage] = useState(10);\r\n\tconst [page, setPage] = useState(1);\r\n\tconst [total, setTotal] = useState(0);\r\n\r\n\tuseEffect(() => {\r\n\t\tsetLoading(true);\r\n\t\tsetError(null);\r\n\r\n\t\tconst params = new URLSearchParams({\r\n\t\t\tper_page: perPage,\r\n\t\t\tpage,\r\n\t\t\ts: search,\r\n\t\t});\r\n\r\n\t\tif (activeFolder !== 'all') {\r\n\t\t\tparams.set('folder', activeFolder);\r\n\t\t}\r\n\r\n\t\tfetch(`${restUrl}?${params.toString()}`)\r\n\t\t\t.then((res) => res.json())\r\n\t\t\t.then((data) => {\r\n\t\t\t\t// Flexible: accept either an array or a { items, folders, pagination } object.\r\n\t\t\t\tif (Array.isArray(data)) {\r\n\t\t\t\t\tsetItems(data);\r\n\t\t\t\t\tsetFolders([]);\r\n\t\t\t\t\tsetTotal(data.length);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsetItems(data.items || []);\r\n\t\t\t\t\tsetFolders(data.folders || []);\r\n\t\t\t\t\tsetTotal(data.pagination?.total || (data.items || []).length);\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tconsole.error('LDL fetch error', err);\r\n\t\t\t\tsetError('Unable to load documents.');\r\n\t\t\t})\r\n\t\t\t.finally(() => setLoading(false));\r\n\t}, [restUrl, perPage, page, search, activeFolder]);\r\n\r\n\tconst totalPages = useMemo(() => {\r\n\t\treturn perPage ? Math.max(1, Math.ceil(total / perPage)) : 1;\r\n\t}, [total, perPage]);\r\n\r\n\treturn (\r\n\t\t<div className={`ldl-wrapper ldl-view-${view}`}>\r\n\t\t\t<header className=\"ldl-header\">\r\n\t\t\t\t<h2 className=\"ldl-title\">Document Library Demo</h2>\r\n\r\n\t\t\t\t<div className=\"ldl-toolbar\">\r\n\t\t\t\t\t<div className=\"ldl-search\">\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\ttype=\"search\"\r\n\t\t\t\t\t\t\tplaceholder=\"Search\"\r\n\t\t\t\t\t\t\tvalue={search}\r\n\t\t\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\t\t\tsetSearch(e.target.value);\r\n\t\t\t\t\t\t\t\tsetPage(1);\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<span className=\"ldl-search-icon\">üîç</span>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div className=\"ldl-toolbar-right\">\r\n\t\t\t\t\t\t<div className=\"ldl-per-page\">\r\n\t\t\t\t\t\t\t<span>Show files</span>\r\n\t\t\t\t\t\t\t<select\r\n\t\t\t\t\t\t\t\tvalue={perPage}\r\n\t\t\t\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\t\t\t\tsetPerPage(parseInt(e.target.value, 10));\r\n\t\t\t\t\t\t\t\t\tsetPage(1);\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<option value={10}>10</option>\r\n\t\t\t\t\t\t\t\t<option value={20}>20</option>\r\n\t\t\t\t\t\t\t\t<option value={40}>40</option>\r\n\t\t\t\t\t\t\t</select>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<div className=\"ldl-view-toggle\" aria-label=\"Toggle view\">\r\n\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\t\tclassName={view === VIEW_GRID ? 'is-active' : ''}\r\n\t\t\t\t\t\t\t\tonClick={() => setView(VIEW_GRID)}\r\n\t\t\t\t\t\t\t\ttitle=\"Grid view\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t‚ñ¶\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\t\tclassName={view === VIEW_LIST ? 'is-active' : ''}\r\n\t\t\t\t\t\t\t\tonClick={() => setView(VIEW_LIST)}\r\n\t\t\t\t\t\t\t\ttitle=\"List view\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t‚â£\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className=\"ldl-folders\">\r\n\t\t\t\t\t<button\r\n\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\tclassName={activeFolder === 'all' ? 'is-active' : ''}\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\tsetActiveFolder('all');\r\n\t\t\t\t\t\t\tsetPage(1);\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<span className=\"ldl-folder-name\">All</span>\r\n\t\t\t\t\t\t<span className=\"ldl-folder-count\">{total}</span>\r\n\t\t\t\t\t</button>\r\n\r\n\t\t\t\t\t{folders.map((folder) => (\r\n\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\tkey={folder.id}\r\n\t\t\t\t\t\t\tclassName={activeFolder === String(folder.id) ? 'is-active' : ''}\r\n\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\tsetActiveFolder(String(folder.id));\r\n\t\t\t\t\t\t\t\tsetPage(1);\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<span className=\"ldl-folder-name\">{folder.name}</span>\r\n\t\t\t\t\t\t\t<span className=\"ldl-folder-count\">{folder.count}</span>\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t))}\r\n\t\t\t\t</div>\r\n\t\t\t</header>\r\n\r\n\t\t\t<main>\r\n\t\t\t\t{loading && <div className=\"ldl-status\">Loading documents‚Ä¶</div>}\r\n\t\t\t\t{!loading && error && <div className=\"ldl-status ldl-status--error\">{error}</div>}\r\n\r\n\t\t\t\t{!loading && !error && items.length === 0 && (\r\n\t\t\t\t\t<div className=\"ldl-status\">No documents found.</div>\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t{!loading && !error && items.length > 0 && (\r\n\t\t\t\t\t<div className={`ldl-items ldl-items-${view}`}>\r\n\t\t\t\t\t\t{items.map((item) => (\r\n\t\t\t\t\t\t\t<DocumentCard key={item.id} item={item} />\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t{!loading && totalPages > 1 && (\r\n\t\t\t\t\t<div className=\"ldl-pagination\">\r\n\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\tonClick={() => setPage((p) => Math.max(1, p - 1))}\r\n\t\t\t\t\t\t\tdisabled={page === 1}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tPrev\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\tPage {page} of {totalPages}\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\tonClick={() => setPage((p) => Math.min(totalPages, p + 1))}\r\n\t\t\t\t\t\t\tdisabled={page === totalPages}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tNext\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\t\t\t</main>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nfunction DocumentCard({ item }) {\r\n\t// Expecting something like: pdf, doc, xls, video, audio, image‚Ä¶\r\n\tconst typeClass = item.type ? `ldl-type-${item.type}` : 'ldl-type-generic';\r\n\r\n\treturn (\r\n\t\t<article className={`ldl-item-card ${typeClass}`}>\r\n\t\t\t<div className=\"ldl-item-icon\">\r\n\t\t\t\t{/* You can swap this for real icons / SVGs based on item.type */}\r\n\t\t\t\t<span className=\"ldl-item-icon-label\">\r\n\t\t\t\t\t{(item.type || 'file').toUpperCase()}\r\n\t\t\t\t</span>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div className=\"ldl-item-body\">\r\n\t\t\t\t<h3 className=\"ldl-item-title\">{item.title}</h3>\r\n\t\t\t\t<p className=\"ldl-item-meta\">\r\n\t\t\t\t\t{item.size && <span className=\"ldl-item-size\">{item.size}</span>}\r\n\t\t\t\t\t{item.folder_name && (\r\n\t\t\t\t\t\t<span className=\"ldl-item-folder\">{item.folder_name}</span>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</p>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div className=\"ldl-item-footer\">\r\n\t\t\t\t<a\r\n\t\t\t\t\thref={item.url}\r\n\t\t\t\t\tclassName=\"ldl-download-btn\"\r\n\t\t\t\t\ttarget=\"_blank\"\r\n\t\t\t\t\trel=\"noopener noreferrer\"\r\n\t\t\t\t>\r\n\t\t\t\t\tDownload\r\n\t\t\t\t</a>\r\n\t\t\t</div>\r\n\t\t</article>\r\n\t);\r\n}\r\n\r\n// Mount on all shortcode roots.\r\ndocument.addEventListener('DOMContentLoaded', () => {\r\n\tconst roots = document.querySelectorAll('[data-ldl-root]');\r\n\r\n\tif (!roots.length) {\r\n\t\treturn;\r\n\t}\r\n\r\n\tconst restUrl =\r\n\t\t(window.ldlDocumentLibrary && window.ldlDocumentLibrary.restUrl) || '';\r\n\r\n\troots.forEach((el) => {\r\n\t\trender(<DocumentLibraryApp restUrl={restUrl} />, el);\r\n\t});\r\n});\r\n","import { __ } from '@wordpress/i18n';\r\nimport { \r\n    useBlockProps, \r\n    InspectorControls \r\n} from '@wordpress/block-editor';\r\nimport { \r\n    PanelBody, \r\n    SelectControl, \r\n    RangeControl, \r\n    ToggleControl,\r\n    FormTokenField,\r\n    Notice,\r\n    Spinner\r\n} from '@wordpress/components';\r\nimport { useState, useEffect } from '@wordpress/element';\r\nimport apiFetch from '@wordpress/api-fetch';\r\nimport LibrariesReactView from './LibrariesReactViews';\r\n\r\nexport default function Edit({ attributes, setAttributes }) {\r\n    const blockProps = useBlockProps();\r\n    const { \r\n        exclude, \r\n        limit, \r\n        libraries, \r\n        categories, \r\n        layout, \r\n        search, \r\n        nested \r\n    } = attributes;\r\n\r\n    const [librariesData, setLibrariesData] = useState(null);\r\n    const [loading, setLoading] = useState(true);\r\n    const [error, setError] = useState(null);\r\n\r\n    // Get data from localized script\r\n    const blockData = window.ldlBlockData || {\r\n        isCategoriesFilterEnabled: false,\r\n        defaultLayout: 'list',\r\n        libraries: [],\r\n        categories: []\r\n    };\r\n\r\n    const isCategoriesFilterEnabled = blockData.isCategoriesFilterEnabled;\r\n    const availableLibraries = blockData.libraries || [];\r\n    const availableCategories = blockData.categories || [];\r\n\r\n    // Fetch libraries data when attributes change\r\n    useEffect(() => {\r\n        setLoading(true);\r\n        setError(null);\r\n        // Build query parameters\r\n        const params = new URLSearchParams();\r\n        if (exclude.length) params.append('exclude', exclude.join(','));\r\n        if (limit) params.append('limit', limit);\r\n        if (libraries.length) params.append('libraries', libraries.join(','));\r\n        if (categories.length) params.append('categories', categories.join(','));\r\n        params.append('layout', layout);\r\n        params.append('search', search);\r\n        params.append('nested', nested);\r\n        apiFetch({\r\n            path: `/ldl/v1/libraries?${params.toString()}`,\r\n        })\r\n        .then((data) => {\r\n            console.log(data);\r\n            setLibrariesData(data);\r\n            setLoading(false);\r\n        })\r\n        .catch((err) => {\r\n            setError(err.message);\r\n            setLoading(false);\r\n        });\r\n    }, [exclude, limit, libraries, categories, layout, search, nested]);\r\n\r\n    // Helper to convert array of IDs to labels for FormTokenField\r\n    const getLabelsFromIds = (ids, options) => {\r\n        return ids.map(id => {\r\n            const option = options.find(opt => opt.value === parseInt(id));\r\n            return option ? option.label : id.toString();\r\n        });\r\n    };\r\n\r\n    // Helper to convert labels back to IDs\r\n    const getIdsFromLabels = (labels, options) => {\r\n        return labels.map(label => {\r\n            const option = options.find(opt => opt.label === label);\r\n            return option ? option.value.toString() : label;\r\n        });\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <InspectorControls>\r\n                <PanelBody title={__('Layout Settings', 'learndash-document-library')}>\r\n                    <SelectControl\r\n                        label={__('Layout', 'learndash-document-library')}\r\n                        value={layout}\r\n                        options={[\r\n                            { label: __('List View', 'learndash-document-library'), value: 'list' },\r\n                            { label: __('Grid View', 'learndash-document-library'), value: 'grid' },\r\n                            { label: __('Folder View', 'learndash-document-library'), value: 'folder' }\r\n                        ]}\r\n                        onChange={(value) => setAttributes({ layout: value })}\r\n                    />\r\n                    \r\n                    <RangeControl\r\n                        label={__('Items per page', 'learndash-document-library')}\r\n                        value={limit}\r\n                        onChange={(value) => setAttributes({ limit: value })}\r\n                        min={1}\r\n                        max={50}\r\n                    />\r\n                    \r\n                    <ToggleControl\r\n                        label={__('Show Search', 'learndash-document-library')}\r\n                        checked={search}\r\n                        onChange={(value) => setAttributes({ search: value })}\r\n                    />\r\n                    \r\n                    <ToggleControl\r\n                        label={__('Nested Display', 'learndash-document-library')}\r\n                        checked={nested}\r\n                        onChange={(value) => setAttributes({ nested: value })}\r\n                    />\r\n                </PanelBody>\r\n\r\n                <PanelBody title={__('Filter Settings', 'learndash-document-library')} initialOpen={false}>\r\n                    {isCategoriesFilterEnabled ? (\r\n                        <>\r\n                            {libraries.length > 0 && (\r\n                                <Notice status=\"warning\" isDismissible={false}>\r\n                                    {__('Categories filter is enabled. Please use categories instead of libraries.', 'learndash-document-library')}\r\n                                </Notice>\r\n                            )}\r\n                            <FormTokenField\r\n                                label={__('Select Categories', 'learndash-document-library')}\r\n                                value={getLabelsFromIds(categories, availableCategories)}\r\n                                suggestions={availableCategories.map(cat => cat.label)}\r\n                                onChange={(tokens) => {\r\n                                    setAttributes({ \r\n                                        categories: getIdsFromLabels(tokens, availableCategories),\r\n                                        libraries: [] // Clear libraries when categories are set\r\n                                    });\r\n                                }}\r\n                                placeholder={__('Type to search categories', 'learndash-document-library')}\r\n                            />\r\n                        </>\r\n                    ) : (\r\n                        <>\r\n                            {categories.length > 0 && (\r\n                                <Notice status=\"warning\" isDismissible={false}>\r\n                                    {__('Categories filter is disabled. Please use libraries instead.', 'learndash-document-library')}\r\n                                </Notice>\r\n                            )}\r\n                            <FormTokenField\r\n                                label={__('Select Libraries', 'learndash-document-library')}\r\n                                value={getLabelsFromIds(libraries, availableLibraries)}\r\n                                suggestions={availableLibraries.map(lib => lib.label)}\r\n                                onChange={(tokens) => {\r\n                                    setAttributes({ \r\n                                        libraries: getIdsFromLabels(tokens, availableLibraries),\r\n                                        categories: [] // Clear categories when libraries are set\r\n                                    });\r\n                                }}\r\n                                placeholder={__('Type to search libraries', 'learndash-document-library')}\r\n                            />\r\n                        </>\r\n                    )}\r\n                    \r\n                    <FormTokenField\r\n                        label={__('Exclude Items (IDs)', 'learndash-document-library')}\r\n                        value={exclude}\r\n                        onChange={(tokens) => setAttributes({ exclude: tokens })}\r\n                        placeholder={__('Enter IDs to exclude', 'learndash-document-library')}\r\n                    />\r\n                </PanelBody>\r\n            </InspectorControls>\r\n\r\n            <div {...blockProps}>\r\n                {loading && (\r\n                    <div className=\"ldl-block-loading\">\r\n                        <Spinner />\r\n                        <p>{__('Loading libraries...', 'learndash-document-library')}</p>\r\n                    </div>\r\n                )}\r\n\r\n                {error && (\r\n                    <div className=\"ldl-block-error\">\r\n                        <Notice status=\"error\" isDismissible={false}>\r\n                            {__('Error loading libraries:', 'learndash-document-library')} {error}\r\n                        </Notice>\r\n                    </div>\r\n                )}\r\n\r\n                {!loading && !error && librariesData && (\r\n                    <LibrariesReactView \r\n                        data={librariesData}\r\n                        layout={layout}\r\n                        search={search}\r\n                    />\r\n                )}\r\n\r\n                {!loading && !error && !librariesData && (\r\n                    <div className=\"ldl-block-placeholder\">\r\n                        <p>{__('No libraries found. Please configure the block settings.', 'learndash-document-library')}</p>\r\n                    </div>\r\n                )}\r\n            </div>\r\n        </>\r\n    );\r\n}","module.exports = window[\"wp\"][\"apiFetch\"];","module.exports = window[\"wp\"][\"blockEditor\"];","module.exports = window[\"wp\"][\"blocks\"];","module.exports = window[\"wp\"][\"components\"];","module.exports = window[\"wp\"][\"element\"];","module.exports = window[\"wp\"][\"i18n\"];","module.exports = window[\"React\"];","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import { registerBlockType } from '@wordpress/blocks';\r\nimport { __ } from '@wordpress/i18n';\r\nimport Edit from './edit';\r\nimport metadata from './block.json';\r\n\r\nregisterBlockType(metadata.name, {\r\n    edit: Edit,\r\n    save: () => null, // Dynamic block - rendered via PHP\r\n});"],"names":["render","useEffect","useMemo","useState","VIEW_GRID","VIEW_LIST","DocumentLibraryApp","restUrl","items","setItems","folders","setFolders","loading","setLoading","error","setError","search","setSearch","activeFolder","setActiveFolder","view","setView","perPage","setPerPage","page","setPage","total","setTotal","params","URLSearchParams","per_page","s","set","fetch","toString","then","res","json","data","Array","isArray","length","pagination","catch","err","console","finally","totalPages","Math","max","ceil","createElement","className","type","placeholder","value","onChange","e","target","parseInt","onClick","title","map","folder","key","id","String","name","count","item","DocumentCard","p","disabled","min","typeClass","toUpperCase","size","folder_name","href","url","rel","document","addEventListener","roots","querySelectorAll","window","ldlDocumentLibrary","forEach","el","__","useBlockProps","InspectorControls","PanelBody","SelectControl","RangeControl","ToggleControl","FormTokenField","Notice","Spinner","apiFetch","LibrariesReactView","Edit","attributes","setAttributes","blockProps","exclude","limit","libraries","categories","layout","nested","librariesData","setLibrariesData","blockData","ldlBlockData","isCategoriesFilterEnabled","defaultLayout","availableLibraries","availableCategories","append","join","path","log","message","getLabelsFromIds","ids","options","option","find","opt","label","getIdsFromLabels","labels","Fragment","checked","initialOpen","status","isDismissible","suggestions","cat","tokens","lib","registerBlockType","metadata","edit","save"],"sourceRoot":""}